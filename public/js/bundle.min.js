!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(_,T){function M(){return new Date(Date.UTC.apply(Date,arguments))}function k(){var t=new Date;return M(t.getFullYear(),t.getMonth(),t.getDate())}function t(t){return function(){return this[t].apply(this,arguments)}}var e,i=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,a=this.length;i<a;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(_.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new i;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),_.extend(t,e),t}),x=function(t,e){_(t).data("datepicker",this),this._process_options(e),this.dates=new i,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=_(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=_(U.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};x.prototype={constructor:x,_resolveViewName:function(t,e){return 0===t||"days"===t||"month"===t?0:1===t||"months"===t||"year"===t?1:2===t||"years"===t||"decade"===t?2:3===t||"decades"===t||"century"===t?3:4===t||"centuries"===t||"millennium"===t?4:e!==T&&e},_check_template:function(t){try{return t!==T&&""!==t&&((t.match(/[<>]/g)||[]).length<=0||0<_(t).length)}catch(t){return!1}},_process_options:function(t){this._o=_.extend({},this._o,t);var e=this.o=_.extend({},this._o),i=e.language;I[i]||(i=i.split("-")[0],I[i]||(i=h.language)),e.language=i,e.startView=this._resolveViewName(e.startView,0),e.minViewMode=this._resolveViewName(e.minViewMode,0),e.maxViewMode=this._resolveViewName(e.maxViewMode,4),e.startView=Math.min(e.startView,e.maxViewMode),e.startView=Math.max(e.startView,e.minViewMode),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var a=U.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=U.parseDate(e.startDate,a,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=U.parseDate(e.endDate,a,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],_.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=_.map(e.daysOfWeekDisabled,function(t){return parseInt(t,10)}),e.daysOfWeekHighlighted=e.daysOfWeekHighlighted||[],_.isArray(e.daysOfWeekHighlighted)||(e.daysOfWeekHighlighted=e.daysOfWeekHighlighted.split(/[,\s]*/)),e.daysOfWeekHighlighted=_.map(e.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),e.datesDisabled=e.datesDisabled||[],_.isArray(e.datesDisabled)||(e.datesDisabled=[e.datesDisabled]),e.datesDisabled=_.map(e.datesDisabled,function(t){return U.parseDate(t,a,e.language,e.assumeNearbyYear)});var s=String(e.orientation).toLowerCase().split(/\s+/g),n=e.orientation.toLowerCase();if(s=_.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},n&&"auto"!==n)if(1===s.length)switch(s[0]){case"top":case"bottom":e.orientation.y=s[0];break;case"left":case"right":e.orientation.x=s[0]}else n=_.grep(s,function(t){return/^left|right$/.test(t)}),e.orientation.x=n[0]||"auto",n=_.grep(s,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=n[0]||"auto";if(e.defaultViewDate){var o=e.defaultViewDate.year||(new Date).getFullYear(),r=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=M(o,r,l)}else e.defaultViewDate=k()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,a,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(i=T,a=t[s][1]):3===t[s].length&&(i=t[s][1],a=t[s][2]),e.on(a,i)},_unapplyEvents:function(t){for(var e,i,a,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(a=T,i=t[s][1]):3===t[s].length&&(a=t[s][1],i=t[s][2]),e.off(i,a)},_buildEvents:function(){var t={keyup:_.proxy(function(t){-1===_.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:_.proxy(this.keydown,this),paste:_.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=_.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.inputField,t],[this.component,{click:_.proxy(this.show,this)}]]:this._events=[[this.element,{click:_.proxy(this.show,this),keydown:_.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:_.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:_.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":_.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:_.proxy(this.click,this)}],[_(window),{resize:_.proxy(this.place,this)}],[_(document),{mousedown:_.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var i=e||this.dates.get(-1),a=this._utc_to_local(i);this.element.trigger({type:t,date:a,dates:_.map(this.dates,this._utc_to_local),format:_.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return U.formatDate(i,e,this.o.language)},this)})},show:function(){return this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&_(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==_.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return _.map(this.dates,this._utc_to_local)},getUTCDates:function(){return _.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return void 0!==t?new Date(t):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=_.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=_.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,_.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===T&&(e=this.o.format);var i=this.o.language;return _.map(this.dates,function(t){return U.formatDate(t,e,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=_(this.o.container),a=i.width(),s="body"===this.o.container?_(document).scrollTop():i.scrollTop(),n=i.offset(),o=[];this.element.parents().each(function(){var t=_(this).css("z-index");"auto"!==t&&0!==t&&o.push(parseInt(t))});var r=Math.max.apply(Math,o)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),c=l.left-n.left,u=l.top-n.top;"body"!==this.o.container&&(u+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(c-=t-h)):l.left<0?(this.picker.addClass("datepicker-orient-left"),c-=l.left-10):a<c+t?(this.picker.addClass("datepicker-orient-right"),c+=h-t):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-s+u-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?u-=e+parseInt(this.picker.css("padding-top")):u+=d,this.o.rtl){var f=a-(c+h);this.picker.css({top:u,right:f,zIndex:r})}else this.picker.css({top:u,left:c,zIndex:r});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],e=!1;return arguments.length?(_.each(arguments,_.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),e=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=_.map(i,_.proxy(function(t){return U.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=_.grep(i,_.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,e?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1<_.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+I[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",i=0;i<12;){e+='<span class="month'+(t&&t.getMonth()===i?" focused":"")+'">'+I[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=_.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<a?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>a)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==_.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==_.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&e.push("range-end")),e},_fill_yearsView:function(t,e,i,a,s,n,o,r){var l,d,h,c,u,p,f,m,g,v,y;for(l="",d=this.picker.find(t),h=parseInt(s/i,10)*i,u=parseInt(n/a,10)*a,p=parseInt(o/a,10)*a,c=_.map(this.dates,function(t){return parseInt(t.getUTCFullYear()/a,10)*a}),d.find(".datepicker-switch").text(h+"-"+(h+9*a)),f=h-a,m=-1;m<11;m+=1)g=[e],v=null,-1===m?g.push("old"):10===m&&g.push("new"),-1!==_.inArray(f,c)&&g.push("active"),(f<u||p<f)&&g.push("disabled"),f===this.viewDate.getFullYear()&&g.push("focused"),r!==_.noop&&((y=r(new Date(f,0,1)))===T?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),!1===y.enabled&&g.push("disabled"),y.classes&&(g=g.concat(y.classes.split(/\s+/))),y.tooltip&&(v=y.tooltip)),l+='<span class="'+g.join(" ")+'"'+(v?' title="'+v+'"':"")+">"+f+"</span>",f+=a;d.find("td").html(l)},fill:function(){var t,e,i=new Date(this.viewDate),s=i.getUTCFullYear(),a=i.getUTCMonth(),n=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=I[this.o.language].today||I.en.today||"",h=I[this.o.language].clear||I.en.clear||"",c=I[this.o.language].titleFormat||I.en.titleFormat;if(!isNaN(s)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(U.formatDate(i,c,this.o.language)),this.picker.find("tfoot .today").text(d).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(h).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var u=M(s,a-1,28),p=U.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(p),u.setUTCDate(p-(u.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(u);u.getUTCFullYear()<100&&f.setUTCFullYear(u.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g=[];u.valueOf()<f;){if(u.getUTCDay()===this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),y=new Date(Number(v)+(11-v.getUTCDay())%7*864e5),w=new Date(Number(w=M(y.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),D=(y-w)/864e5/7+1;g.push('<td class="cw">'+D+"</td>")}(m=this.getClassNames(u)).push("day"),this.o.beforeShowDay!==_.noop&&((e=this.o.beforeShowDay(this._utc_to_local(u)))===T?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&m.push("disabled"),e.classes&&(m=m.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip)),m=_.isFunction(_.uniqueSort)?_.uniqueSort(m):_.unique(m),g.push('<td class="'+m.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+u.getUTCDate()+"</td>"),t=null,u.getUTCDay()===this.o.weekEnd&&g.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var b=I[this.o.language].monthsTitle||I.en.monthsTitle||"Months",C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?b:s).end().find("span").removeClass("active");if(_.each(this.dates,function(t,e){e.getUTCFullYear()===s&&C.eq(e.getUTCMonth()).addClass("active")}),(s<n||r<s)&&C.addClass("disabled"),s===n&&C.slice(0,o).addClass("disabled"),s===r&&C.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==_.noop){var k=this;_.each(C,function(t,e){var i=new Date(s,t,1),a=k.o.beforeShowMonth(i);a===T?a={}:"boolean"==typeof a?a={enabled:a}:"string"==typeof a&&(a={classes:a}),!1!==a.enabled||_(e).hasClass("disabled")||_(e).addClass("disabled"),a.classes&&_(e).addClass(a.classes),a.tooltip&&_(e).prop("title",a.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,s,n,r,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,s,n,r,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,s,n,r,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var e,i,a,s,n,o,r;t.preventDefault(),t.stopPropagation(),(e=_(t.target)).hasClass("datepicker-switch")&&this.showMode(1);var l=e.closest(".prev, .next");0<l.length&&(i=U.modes[this.viewMode].navStep*(l.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,i),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,i),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),e.hasClass("today")&&!e.hasClass("day")&&(this.showMode(-2),this._setDate(k(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("day")&&(a=parseInt(e.text(),10)||1,s=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),e.hasClass("old")&&(0===n?(n=11,s-=1,r=o=!0):(n-=1,o=!0)),e.hasClass("new")&&(11===n?(s+=1,r=o=!(n=0)):(n+=1,o=!0)),this._setDate(M(s,n,a)),r&&this._trigger("changeYear",this.viewDate),o&&this._trigger("changeMonth",this.viewDate)),e.hasClass("month")&&(this.viewDate.setUTCDate(1),a=1,n=e.parent().find("span").index(e),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(M(s,n,a)),this.showMode()):this.showMode(-1),this.fill()),(e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),a=1,n=0,s=parseInt(e.text(),10)||0,this.viewDate.setUTCFullYear(s),e.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(M(s,n,a))),e.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(M(s,n,a))),e.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(M(s,n,a))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&_(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(i=t)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!e)return t;var a,s,n=new Date(t.valueOf()),o=n.getUTCDate(),r=n.getUTCMonth(),l=Math.abs(e);if(e=0<e?1:-1,1===l)s=-1===e?function(){return n.getUTCMonth()===r}:function(){return n.getUTCMonth()!==a},a=r+e,n.setUTCMonth(a),(a<0||11<a)&&(a=(a+12)%12);else{for(var d=0;d<l;d++)n=this.moveMonth(n,e);a=n.getUTCMonth(),n.setUTCDate(o),s=function(){return a!==n.getUTCMonth()}}for(;s();)n.setUTCDate(--o),n.setUTCMonth(a);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==_.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(a){return this.weekOfDateIsDisabled(a)||0<_.grep(this.o.datesDisabled,function(t){return i=t,(e=a).getUTCFullYear()===i.getUTCFullYear()&&e.getUTCMonth()===i.getUTCMonth()&&e.getUTCDate()===i.getUTCDate();var e,i}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,i,a=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(s,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(s,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(s,e,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,e,"moveWeek")):1===this.viewMode?((38===t.keyCode||40===t.keyCode)&&(e*=4),i=this.moveAvailableDate(s,e,"moveMonth")):2===this.viewMode&&((38===t.keyCode||40===t.keyCode)&&(e*=4),i=this.moveAvailableDate(s,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),a=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}a&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())}else(40===t.keyCode||27===t.keyCode)&&(this.show(),t.stopPropagation())},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+U.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var d=function(t,e){_(t).data("datepicker",this),this.element=_(t),this.inputs=_.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,s.call(_(this.inputs),e).on("changeDate",_.proxy(this.dateUpdated,this)),this.pickers=_.map(this.inputs,function(t){return _(t).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=_.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=_.map(this.dates,function(t){return t.valueOf()});_.each(this.pickers,function(t,e){e.setRange(i)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var e=_(t.target).data("datepicker");if(void 0!==e){var i=e.getUTCDate(),a=_.inArray(t.target,this.inputs),s=a-1,n=a+1,o=this.inputs.length;if(-1!==a){if(_.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[s])for(;0<=s&&i<this.dates[s];)this.pickers[s--].setUTCDate(i);else if(i>this.dates[n])for(;n<o&&i>this.dates[n];)this.pickers[n++].setUTCDate(i);this.updateDates(),delete this.updating}}}},remove:function(){_.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var a=_.fn.datepicker,s=function(o){var r,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var t=_(this),e=t.data("datepicker"),i="object"==typeof o&&o;if(!e){var a=function(t,e){function i(t,e){return e.toLowerCase()}var a=_(t).data(),s={},n=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(var o in e=new RegExp("^"+e.toLowerCase()),a)e.test(o)&&(s[o.replace(n,i)]=a[o]);return s}(this,"date"),s=function(t){var i={};if(I[t]||(t=t.split("-")[0],I[t])){var a=I[t];return _.each(c,function(t,e){e in a&&(i[e]=a[e])}),i}}(_.extend({},h,a,i).language),n=_.extend({},h,s,a,i);t.hasClass("input-daterange")||n.inputs?(_.extend(n,{inputs:n.inputs||t.find("input").toArray()}),e=new d(this,n)):e=new x(this,n),t.data("datepicker",e)}"string"==typeof o&&"function"==typeof e[o]&&(r=e[o].apply(e,l))}),r===T||r instanceof x||r instanceof d)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+o+" function)");return r};_.fn.datepicker=s;var h=_.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:_.noop,beforeShowMonth:_.noop,beforeShowYear:_.noop,beforeShowDecade:_.noop,beforeShowCentury:_.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},c=_.fn.datepicker.locale_opts=["format","rtl","weekStart"];_.fn.datepicker.Constructor=x;var I=_.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},U={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,U.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(t,e,i,a){function s(t,e){return!0===e&&(e=10),t<100&&((t+=2e3)>(new Date).getFullYear()+e&&(t-=100)),t}function n(){var t=this.slice(0,c[l].length),e=c[l].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!t)return T;if(t instanceof Date)return t;if("string"==typeof e&&(e=U.parseFormat(e)),e.toValue)return e.toValue(t,e,i);var o,r,l,d,h=/([\-+]\d+)([dmwy])/,c=t.match(/([\-+]\d+)([dmwy])/g),u={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},p={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){for(t=new Date,l=0;l<c.length;l++)o=h.exec(c[l]),r=parseInt(o[1]),d=u[o[2]],t=x.prototype[d](t,r);return M(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}if(void 0!==p[t]&&(c=(t=p[t]).match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t))){for(t=new Date,l=0;l<c.length;l++)o=h.exec(c[l]),r=parseInt(o[1]),d=u[o[2]],t=x.prototype[d](t,r);return M(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}c=t&&t.match(this.nonpunctuation)||[],t=new Date;var f,m,g={},v=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(t,e){return t.setUTCFullYear(a?s(e,a):e)},yy:function(t,e){return t.setUTCFullYear(a?s(e,a):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,t=k();var w=e.parts.slice();if(c.length!==w.length&&(w=_(w).filter(function(t,e){return-1!==_.inArray(e,v)}).toArray()),c.length===w.length){var D,b,C;for(l=0,D=w.length;l<D;l++){if(f=parseInt(c[l],10),o=w[l],isNaN(f))switch(o){case"MM":m=_(I[i].months).filter(n),f=_.inArray(m[0],I[i].months)+1;break;case"M":m=_(I[i].monthsShort).filter(n),f=_.inArray(m[0],I[i].monthsShort)+1}g[o]=f}for(l=0;l<v.length;l++)(C=v[l])in g&&!isNaN(g[C])&&(b=new Date(t),y[C](b,g[C]),isNaN(b)||(t=b))}return t},formatDate:function(t,e,i){if(!t)return"";if("string"==typeof e&&(e=U.parseFormat(e)),e.toDisplay)return e.toDisplay(t,e,i);var a={d:t.getUTCDate(),D:I[i].daysShort[t.getUTCDay()],DD:I[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:I[i].monthsShort[t.getUTCMonth()],MM:I[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,t=[];for(var s=_.extend([],e.separators),n=0,o=e.parts.length;n<=o;n++)s.length&&t.push(s.shift()),t.push(a[e.parts[n]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};U.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+U.headTemplate+"<tbody></tbody>"+U.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+U.headTemplate+U.contTemplate+U.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+U.headTemplate+U.contTemplate+U.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+U.headTemplate+U.contTemplate+U.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+U.headTemplate+U.contTemplate+U.footTemplate+"</table></div></div>",_.fn.datepicker.DPGlobal=U,_.fn.datepicker.noConflict=function(){return _.fn.datepicker=a,this},_.fn.datepicker.version="1.6.4",_(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=_(this);e.data("datepicker")||(t.preventDefault(),s.call(e,"show"))}),_(function(){s.call(_('[data-provide="datepicker-inline"]'))})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(h){var c,a,u,s,p,e,l="Close",d="BeforeClose",f="MarkupParse",m="Open",g=".mfp",v="mfp-ready",i="mfp-removing",o="mfp-prevent-close",t=function(){},r=!!window.jQuery,y=h(window),w=function(t,e){c.ev.on("mfp"+t+g,e)},D=function(t,e,i,a){var s=document.createElement("div");return s.className="mfp-"+t,i&&(s.innerHTML=i),a?e&&e.appendChild(s):(s=h(s),e&&s.appendTo(e)),s},b=function(t,e){c.ev.triggerHandler("mfp"+t,e),c.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),c.st.callbacks[t]&&c.st.callbacks[t].apply(c,h.isArray(e)?e:[e]))},C=function(t){return t===e&&c.currTemplate.closeBtn||(c.currTemplate.closeBtn=h(c.st.closeMarkup.replace("%title%",c.st.tClose)),e=t),c.currTemplate.closeBtn},n=function(){h.magnificPopup.instance||((c=new t).init(),h.magnificPopup.instance=c)};t.prototype={constructor:t,init:function(){var t=navigator.appVersion;c.isLowIE=c.isIE8=document.all&&!document.addEventListener,c.isAndroid=/android/gi.test(t),c.isIOS=/iphone|ipad|ipod/gi.test(t),c.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),c.probablyMobile=c.isAndroid||c.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),u=h(document),c.popupsCache={}},open:function(t){var e;if(!1===t.isObj){c.items=t.items.toArray(),c.index=0;var i,a=t.items;for(e=0;e<a.length;e++)if((i=a[e]).parsed&&(i=i.el[0]),i===t.el[0]){c.index=e;break}}else c.items=h.isArray(t.items)?t.items:[t.items],c.index=t.index||0;if(!c.isOpen){c.types=[],p="",t.mainEl&&t.mainEl.length?c.ev=t.mainEl.eq(0):c.ev=u,t.key?(c.popupsCache[t.key]||(c.popupsCache[t.key]={}),c.currTemplate=c.popupsCache[t.key]):c.currTemplate={},c.st=h.extend(!0,{},h.magnificPopup.defaults,t),c.fixedContentPos="auto"===c.st.fixedContentPos?!c.probablyMobile:c.st.fixedContentPos,c.st.modal&&(c.st.closeOnContentClick=!1,c.st.closeOnBgClick=!1,c.st.showCloseBtn=!1,c.st.enableEscapeKey=!1),c.bgOverlay||(c.bgOverlay=D("bg").on("click"+g,function(){c.close()}),c.wrap=D("wrap").attr("tabindex",-1).on("click"+g,function(t){c._checkIfClose(t.target)&&c.close()}),c.container=D("container",c.wrap)),c.contentContainer=D("content"),c.st.preloader&&(c.preloader=D("preloader",c.container,c.st.tLoading));var s=h.magnificPopup.modules;for(e=0;e<s.length;e++){var n=s[e];n=n.charAt(0).toUpperCase()+n.slice(1),c["init"+n].call(c)}b("BeforeOpen"),c.st.showCloseBtn&&(c.st.closeBtnInside?(w(f,function(t,e,i,a){i.close_replaceWith=C(a.type)}),p+=" mfp-close-btn-in"):c.wrap.append(C())),c.st.alignTop&&(p+=" mfp-align-top"),c.fixedContentPos?c.wrap.css({overflow:c.st.overflowY,overflowX:"hidden",overflowY:c.st.overflowY}):c.wrap.css({top:y.scrollTop(),position:"absolute"}),(!1===c.st.fixedBgPos||"auto"===c.st.fixedBgPos&&!c.fixedContentPos)&&c.bgOverlay.css({height:u.height(),position:"absolute"}),c.st.enableEscapeKey&&u.on("keyup"+g,function(t){27===t.keyCode&&c.close()}),y.on("resize"+g,function(){c.updateSize()}),c.st.closeOnContentClick||(p+=" mfp-auto-cursor"),p&&c.wrap.addClass(p);var o=c.wH=y.height(),r={};if(c.fixedContentPos&&c._hasScrollBar(o)){var l=c._getScrollbarSize();l&&(r.marginRight=l)}c.fixedContentPos&&(c.isIE7?h("body, html").css("overflow","hidden"):r.overflow="hidden");var d=c.st.mainClass;return c.isIE7&&(d+=" mfp-ie7"),d&&c._addClassToMFP(d),c.updateItemHTML(),b("BuildControls"),h("html").css(r),c.bgOverlay.add(c.wrap).prependTo(c.st.prependTo||h(document.body)),c._lastFocusedEl=document.activeElement,setTimeout(function(){c.content?(c._addClassToMFP(v),c._setFocus()):c.bgOverlay.addClass(v),u.on("focusin"+g,c._onFocusIn)},16),c.isOpen=!0,c.updateSize(o),b(m),t}c.updateItemHTML()},close:function(){c.isOpen&&(b(d),c.isOpen=!1,c.st.removalDelay&&!c.isLowIE&&c.supportsTransition?(c._addClassToMFP(i),setTimeout(function(){c._close()},c.st.removalDelay)):c._close())},_close:function(){b(l);var t=i+" "+v+" ";if(c.bgOverlay.detach(),c.wrap.detach(),c.container.empty(),c.st.mainClass&&(t+=c.st.mainClass+" "),c._removeClassFromMFP(t),c.fixedContentPos){var e={marginRight:""};c.isIE7?h("body, html").css("overflow",""):e.overflow="",h("html").css(e)}u.off("keyup.mfp focusin"+g),c.ev.off(g),c.wrap.attr("class","mfp-wrap").removeAttr("style"),c.bgOverlay.attr("class","mfp-bg"),c.container.attr("class","mfp-container"),!c.st.showCloseBtn||c.st.closeBtnInside&&!0!==c.currTemplate[c.currItem.type]||c.currTemplate.closeBtn&&c.currTemplate.closeBtn.detach(),c.st.autoFocusLast&&c._lastFocusedEl&&h(c._lastFocusedEl).focus(),c.currItem=null,c.content=null,c.currTemplate=null,c.prevHeight=0,b("AfterClose")},updateSize:function(t){if(c.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*e;c.wrap.css("height",i),c.wH=i}else c.wH=t||y.height();c.fixedContentPos||c.wrap.css("height",c.wH),b("Resize")},updateItemHTML:function(){var t=c.items[c.index];c.contentContainer.detach(),c.content&&c.content.detach(),t.parsed||(t=c.parseEl(c.index));var e=t.type;if(b("BeforeChange",[c.currItem?c.currItem.type:"",e]),c.currItem=t,!c.currTemplate[e]){var i=!!c.st[e]&&c.st[e].markup;b("FirstMarkupParse",i),c.currTemplate[e]=!i||h(i)}s&&s!==t.type&&c.container.removeClass("mfp-"+s+"-holder");var a=c["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,c.currTemplate[e]);c.appendContent(a,e),t.preloaded=!0,b("Change",t),s=t.type,c.container.prepend(c.contentContainer),b("AfterChange")},appendContent:function(t,e){(c.content=t)?c.st.showCloseBtn&&c.st.closeBtnInside&&!0===c.currTemplate[e]?c.content.find(".mfp-close").length||c.content.append(C()):c.content=t:c.content="",b("BeforeAppend"),c.container.addClass("mfp-"+e+"-holder"),c.contentContainer.append(c.content)},parseEl:function(t){var e,i=c.items[t];if(i.tagName?i={el:h(i)}:(e=i.type,i={data:i,src:i.src}),i.el){for(var a=c.types,s=0;s<a.length;s++)if(i.el.hasClass("mfp-"+a[s])){e=a[s];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=e||c.st.type||"inline",i.index=t,i.parsed=!0,c.items[t]=i,b("ElementParse",i),c.items[t]},addGroup:function(e,i){var t=function(t){t.mfpEl=this,c._openClick(t,e,i)};i||(i={});var a="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(a).on(a,t)):(i.isObj=!1,i.delegate?e.off(a).on(a,i.delegate,t):(i.items=e).off(a).on(a,t))},_openClick:function(t,e,i){if((void 0!==i.midClick?i.midClick:h.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var a=void 0!==i.disableOn?i.disableOn:h.magnificPopup.defaults.disableOn;if(a)if(h.isFunction(a)){if(!a.call(c))return!0}else if(y.width()<a)return!0;t.type&&(t.preventDefault(),c.isOpen&&t.stopPropagation()),i.el=h(t.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),c.open(i)}},updateStatus:function(t,e){if(c.preloader){a!==t&&c.container.removeClass("mfp-s-"+a),e||"loading"!==t||(e=c.st.tLoading);var i={status:t,text:e};b("UpdateStatus",i),t=i.status,e=i.text,c.preloader.html(e),c.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),c.container.addClass("mfp-s-"+t),a=t}},_checkIfClose:function(t){if(!h(t).hasClass(o)){var e=c.st.closeOnContentClick,i=c.st.closeOnBgClick;if(e&&i)return!0;if(!c.content||h(t).hasClass("mfp-close")||c.preloader&&t===c.preloader[0])return!0;if(t===c.content[0]||h.contains(c.content[0],t)){if(e)return!0}else if(i&&h.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){c.bgOverlay.addClass(t),c.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),c.wrap.removeClass(t)},_hasScrollBar:function(t){return(c.isIE7?u.height():document.body.scrollHeight)>(t||y.height())},_setFocus:function(){(c.st.focus?c.content.find(c.st.focus).eq(0):c.wrap).focus()},_onFocusIn:function(t){return t.target===c.wrap[0]||h.contains(c.wrap[0],t.target)?void 0:(c._setFocus(),!1)},_parseMarkup:function(s,t,e){var n;e.data&&(t=h.extend(e.data,t)),b(f,[s,t,e]),h.each(t,function(t,e){if(void 0===e||!1===e)return!0;if(1<(n=t.split("_")).length){var i=s.find(g+"-"+n[0]);if(0<i.length){var a=n[1];"replaceWith"===a?i[0]!==e[0]&&i.replaceWith(e):"img"===a?i.is("img")?i.attr("src",e):i.replaceWith(h("<img>").attr("src",e).attr("class",i.attr("class"))):i.attr(n[1],e)}}else s.find(g+"-"+t).html(e)})},_getScrollbarSize:function(){if(void 0===c.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),c.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return c.scrollbarSize}},h.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return n(),(t=t?h.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return h.magnificPopup.instance&&h.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(h.magnificPopup.defaults[t]=e.options),h.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},h.fn.magnificPopup=function(t){n();var e=h(this);if("string"==typeof t)if("open"===t){var i,a=r?e.data("magnificPopup"):e[0].magnificPopup,s=parseInt(arguments[1],10)||0;a.items?i=a.items[s]:(i=e,a.delegate&&(i=i.find(a.delegate)),i=i.eq(s)),c._openClick({mfpEl:i},e,a)}else c.isOpen&&c[t].apply(c,Array.prototype.slice.call(arguments,1));else t=h.extend(!0,{},t),r?e.data("magnificPopup",t):e[0].magnificPopup=t,c.addGroup(e,t);return e};var k,_,T,M="inline",x=function(){T&&(_.after(T.addClass(k)).detach(),T=null)};h.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){c.types.push(M),w(l+"."+M,function(){x()})},getInline:function(t,e){if(x(),t.src){var i=c.st.inline,a=h(t.src);if(a.length){var s=a[0].parentNode;s&&s.tagName&&(_||(k=i.hiddenClass,_=D(k),k="mfp-"+k),T=a.after(_).detach().removeClass(k)),c.updateStatus("ready")}else c.updateStatus("error",i.tNotFound),a=h("<div>");return t.inlineElement=a}return c.updateStatus("ready"),c._parseMarkup(e,{},t),e}}});var I,U="ajax",S=function(){I&&h(document.body).removeClass(I)},F=function(){S(),c.req&&c.req.abort()};h.magnificPopup.registerModule(U,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){c.types.push(U),I=c.st.ajax.cursor,w(l+"."+U,F),w("BeforeChange."+U,F)},getAjax:function(s){I&&h(document.body).addClass(I),c.updateStatus("loading");var t=h.extend({url:s.src,success:function(t,e,i){var a={data:t,xhr:i};b("ParseAjax",a),c.appendContent(h(a.data),U),s.finished=!0,S(),c._setFocus(),setTimeout(function(){c.wrap.addClass(v)},16),c.updateStatus("ready"),b("AjaxContentAdded")},error:function(){S(),s.finished=s.loadError=!0,c.updateStatus("error",c.st.ajax.tError.replace("%url%",s.src))}},c.st.ajax.settings);return c.req=h.ajax(t),""}}});var O;h.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=c.st.image,e=".image";c.types.push("image"),w(m+e,function(){"image"===c.currItem.type&&t.cursor&&h(document.body).addClass(t.cursor)}),w(l+e,function(){t.cursor&&h(document.body).removeClass(t.cursor),y.off("resize"+g)}),w("Resize"+e,c.resizeImage),c.isLowIE&&w("AfterChange",c.resizeImage)},resizeImage:function(){var t=c.currItem;if(t&&t.img&&c.st.image.verticalFit){var e=0;c.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",c.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,O&&clearInterval(O),t.isCheckingImgSize=!1,b("ImageHasSize",t),t.imgHidden&&(c.content&&c.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var i=0,a=e.img[0],s=function(t){O&&clearInterval(O),O=setInterval(function(){return 0<a.naturalWidth?void c._onImageHasSize(e):(200<i&&clearInterval(O),void(3===++i?s(10):40===i?s(50):100===i&&s(500)))},t)};s(1)},getImage:function(t,e){var i=0,a=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===c.currItem&&(c._onImageHasSize(t),c.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,b("ImageLoadComplete")):++i<200?setTimeout(a,100):s())},s=function(){t&&(t.img.off(".mfploader"),t===c.currItem&&(c._onImageHasSize(t),c.updateStatus("error",n.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},n=c.st.image,o=e.find(".mfp-img");if(o.length){var r=document.createElement("img");r.className="mfp-img",t.el&&t.el.find("img").length&&(r.alt=t.el.find("img").attr("alt")),t.img=h(r).on("load.mfploader",a).on("error.mfploader",s),r.src=t.src,o.is("img")&&(t.img=t.img.clone()),0<(r=t.img[0]).naturalWidth?t.hasSize=!0:r.width||(t.hasSize=!1)}return c._parseMarkup(e,{title:function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=c.st.image.titleSrc;if(e){if(h.isFunction(e))return e.call(c,t);if(t.el)return t.el.attr(e)||""}return""}(t),img_replaceWith:t.img},t),c.resizeImage(),t.hasSize?(O&&clearInterval(O),t.loadError?(e.addClass("mfp-loading"),c.updateStatus("error",n.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),c.updateStatus("ready"))):(c.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),c.findImageSize(t))),e}}});var E;h.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,n=c.st.zoom,e=".zoom";if(n.enabled&&c.supportsTransition){var i,a,s=n.duration,o=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return a["-webkit-"+s]=a["-moz-"+s]=a["-o-"+s]=a[s]=i,e.css(a),e},r=function(){c.content.css("visibility","visible")};w("BuildControls"+e,function(){if(c._allowZoom()){if(clearTimeout(i),c.content.css("visibility","hidden"),!(t=c._getItemToZoom()))return void r();(a=o(t)).css(c._getOffset()),c.wrap.append(a),i=setTimeout(function(){a.css(c._getOffset(!0)),i=setTimeout(function(){r(),setTimeout(function(){a.remove(),t=a=null,b("ZoomAnimationEnded")},16)},s)},16)}}),w(d+e,function(){if(c._allowZoom()){if(clearTimeout(i),c.st.removalDelay=s,!t){if(!(t=c._getItemToZoom()))return;a=o(t)}a.css(c._getOffset(!0)),c.wrap.append(a),c.content.css("visibility","hidden"),setTimeout(function(){a.css(c._getOffset())},16)}}),w(l+e,function(){c._allowZoom()&&(r(),a&&a.remove(),t=null)})}},_allowZoom:function(){return"image"===c.currItem.type},_getItemToZoom:function(){return!!c.currItem.hasSize&&c.currItem.img},_getOffset:function(t){var e,i=(e=t?c.currItem.img:c.st.zoom.opener(c.currItem.el||c.currItem)).offset(),a=parseInt(e.css("padding-top"),10),s=parseInt(e.css("padding-bottom"),10);i.top-=h(window).scrollTop()-a;var n={width:e.width(),height:(r?e.innerHeight():e[0].offsetHeight)-s-a};return void 0===E&&(E=void 0!==document.createElement("p").style.MozTransform),E?n["-moz-transform"]=n.transform="translate("+i.left+"px,"+i.top+"px)":(n.left=i.left,n.top=i.top),n}}});var A="iframe",P=function(t){if(c.currTemplate[A]){var e=c.currTemplate[A].find("iframe");e.length&&(t||(e[0].src="//about:blank"),c.isIE8&&e.css("display",t?"block":"none"))}};h.magnificPopup.registerModule(A,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){c.types.push(A),w("BeforeChange",function(t,e,i){e!==i&&(e===A?P():i===A&&P(!0))}),w(l+"."+A,function(){P()})},getIframe:function(t,e){var i=t.src,a=c.st.iframe;h.each(a.patterns,function(){return-1<i.indexOf(this.index)?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var s={};return a.srcAction&&(s[a.srcAction]=i),c._parseMarkup(e,s,t),c.updateStatus("ready"),e}}});var Y=function(t){var e=c.items.length;return e-1<t?t-e:t<0?e+t:t},z=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};h.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=c.st.gallery,t=".mfp-gallery";return c.direction=!0,!(!n||!n.enabled)&&(p+=" mfp-gallery",w(m+t,function(){n.navigateByImgClick&&c.wrap.on("click"+t,".mfp-img",function(){return 1<c.items.length?(c.next(),!1):void 0}),u.on("keydown"+t,function(t){37===t.keyCode?c.prev():39===t.keyCode&&c.next()})}),w("UpdateStatus"+t,function(t,e){e.text&&(e.text=z(e.text,c.currItem.index,c.items.length))}),w(f+t,function(t,e,i,a){var s=c.items.length;i.counter=1<s?z(n.tCounter,a.index,s):""}),w("BuildControls"+t,function(){if(1<c.items.length&&n.arrows&&!c.arrowLeft){var t=n.arrowMarkup,e=c.arrowLeft=h(t.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(o),i=c.arrowRight=h(t.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(o);e.click(function(){c.prev()}),i.click(function(){c.next()}),c.container.append(e.add(i))}}),w("Change"+t,function(){c._preloadTimeout&&clearTimeout(c._preloadTimeout),c._preloadTimeout=setTimeout(function(){c.preloadNearbyImages(),c._preloadTimeout=null},16)}),void w(l+t,function(){u.off(t),c.wrap.off("click"+t),c.arrowRight=c.arrowLeft=null}))},next:function(){c.direction=!0,c.index=Y(c.index+1),c.updateItemHTML()},prev:function(){c.direction=!1,c.index=Y(c.index-1),c.updateItemHTML()},goTo:function(t){c.direction=t>=c.index,c.index=t,c.updateItemHTML()},preloadNearbyImages:function(){var t,e=c.st.gallery.preload,i=Math.min(e[0],c.items.length),a=Math.min(e[1],c.items.length);for(t=1;t<=(c.direction?a:i);t++)c._preloadItem(c.index+t);for(t=1;t<=(c.direction?i:a);t++)c._preloadItem(c.index-t)},_preloadItem:function(t){if(t=Y(t),!c.items[t].preloaded){var e=c.items[t];e.parsed||(e=c.parseEl(t)),b("LazyLoad",e),"image"===e.type&&(e.img=h('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,b("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}});var N="retina";h.magnificPopup.registerModule(N,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var i=c.st.retina,a=i.ratio;1<(a=isNaN(a)?a():a)&&(w("ImageHasSize."+N,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/a,width:"100%"})}),w("ElementParse."+N,function(t,e){e.src=i.replaceSrc(e,a)}))}}}}),n()}),function(c){var a=-1,s=-1,u=function(t){return parseFloat(t)||0},p=function(t){var e={byRow:!0,remove:!1,property:"height"};return"object"==typeof t?c.extend(e,t):("boolean"==typeof t?e.byRow=t:"remove"===t&&(e.remove=!0),e)},f=c.fn.matchHeight=function(t){var e=p(t);if(e.remove){var i=this;return this.css(e.property,""),c.each(f._groups,function(t,e){e.elements=e.elements.not(i)}),this}return this.length<=1||(f._groups.push({elements:this,options:e}),f._apply(this,e)),this};f._groups=[],f._throttle=80,f._maintainScroll=!1,f._beforeUpdate=null,f._afterUpdate=null,f._apply=function(t,e){var i,a,s,n=p(e),o=c(t),r=[o],l=c(window).scrollTop(),d=c("html").outerHeight(!0),h=o.parents().filter(":hidden");return h.each(function(){var t=c(this);t.data("style-cache",t.attr("style"))}),h.css("display","block"),n.byRow&&(o.each(function(){var t=c(this),e="inline-block"===t.css("display")?"inline-block":"block";t.data("style-cache",t.attr("style")),t.css({display:e,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),i=c(o),a=null,s=[],i.each(function(){var t=c(this),e=t.offset().top-u(t.css("margin-top")),i=0<s.length?s[s.length-1]:null;null===i?s.push(t):Math.floor(Math.abs(a-e))<=1?s[s.length-1]=i.add(t):s.push(t),a=e}),r=s,o.each(function(){var t=c(this);t.attr("style",t.data("style-cache")||"")})),c.each(r,function(t,e){var i=c(e),a=0;n.byRow&&i.length<=1?i.css(n.property,""):(i.each(function(){var t=c(this),e={display:"inline-block"===t.css("display")?"inline-block":"block"};e[n.property]="",t.css(e),t.outerHeight(!1)>a&&(a=t.outerHeight(!1)),t.css("display","")}),i.each(function(){var t=c(this),e=0;"border-box"!==t.css("box-sizing")&&(e+=u(t.css("border-top-width"))+u(t.css("border-bottom-width")),e+=u(t.css("padding-top"))+u(t.css("padding-bottom"))),t.css(n.property,a-e)}))}),h.each(function(){var t=c(this);t.attr("style",t.data("style-cache")||null)}),f._maintainScroll&&c(window).scrollTop(l/d*c("html").outerHeight(!0)),this},f._applyDataApi=function(){var i={};c("[data-match-height], [data-mh]").each(function(){var t=c(this),e=t.attr("data-match-height")||t.attr("data-mh");i[e]=e in i?i[e].add(t):t}),c.each(i,function(){this.matchHeight(!0)})};var n=function(t){f._beforeUpdate&&f._beforeUpdate(t,f._groups),c.each(f._groups,function(){f._apply(this.elements,this.options)}),f._afterUpdate&&f._afterUpdate(t,f._groups)};f._update=function(t,e){if(e&&"resize"===e.type){var i=c(window).width();if(i===a)return;a=i}t?-1===s&&(s=setTimeout(function(){n(e),s=-1},f._throttle)):n(e)},c(f._applyDataApi),c(window).bind("load",function(t){f._update(!1,t)}),c(window).bind("resize orientationchange",function(t){f._update(!0,t)})}(jQuery);